@page "/Hero/Create"
@inject HttpClient Http
@using ViewModel
@inject NavigationManager Navigation
<h3>Add Hero</h3>
<EditForm Model="_Hero" OnInvalidSubmit="Post">
    <div class="form-group">
        <label>Name: </label>
        <InputText @bind-Value="_Hero.Name" />
    </div>
    <div class="form-group">
        <label>Description</label>
        <InputText @bind-Value="_Hero.Description"/>
    </div>
    <div class="form-group">
        <label>Publisher</label>
        <InputText @bind-Value="_Hero.Publisher"/>
    </div>
    <div class="form-group">
        <label>Age</label>
        <InputNumber @bind-Value="_Hero.Age"/>
    </div>
    <div class="form-group">
        <label>Powers</label>
        <InputText @bind-Value="_Hero.Powers" />
    </div>
    <div class="form-group">
        <label>Association</label>
        <InputText @bind-Value="_Hero.Association"/>
    </div>
    <div class="form-group">
        <label>Image Url</label>
        <InputText @bind-Value="_Hero.ImgUrl" />
    </div>
    <div class="form-group">
        <input type="submit" class="btn btn-success" value="Create" />
    </div>
</EditForm>
@code{
    private SuperHeroCreate _Hero = new();
    private async Task Post()
    {
        await Http.PostAsJsonAsync<ViewModel.SuperHeroCreate>("/SuperHero", _Hero);
        Navigation.NavigateTo("/herolist");
    }
}